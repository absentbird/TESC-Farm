import{g as R,p as x,r as m,a as C,c as d,D as N,d as A,T as B,y as P,l as g,t as V,E as b,x as v,s as y,q as k,v as q}from"./index-CPnaz9z_.js";import{a as p}from"./apicall-Bi9Wkbxh.js";import{p as K,f as T,q as _,a as w,b as I}from"./VTextField-CE9Adw70.js";const L=x({...N(),..._()},"VForm"),S=R()({name:"VForm",props:L(),emits:{"update:modelValue":o=>!0,submit:o=>!0},setup(o,f){let{slots:i,emit:s}=f;const t=K(o),r=m();function u(a){a.preventDefault(),t.reset()}function e(a){const l=a,n=t.validate();l.then=n.then.bind(n),l.catch=n.catch.bind(n),l.finally=n.finally.bind(n),s("submit",l),l.defaultPrevented||n.then(D=>{var c;let{valid:F}=D;F&&((c=r.value)==null||c.submit())}),l.preventDefault()}return C(()=>{var a;return d("form",{ref:r,class:["v-form",o.class],style:o.style,novalidate:!0,onReset:u,onSubmit:e},[(a=i.default)==null?void 0:a.call(i,t)])}),T(t,r)}}),G=A({__name:"builder",setup(o){const f=B(),i=m(),s=m(""),t=m(""),r=async()=>{let u={name:s.value,description:t.value},e=await p("/area/new",u);await p("/task/new",{area_id:e.ID,name:"General",description:"Work applicable to all crops in area"}),await p("/task/new",{area_id:e.ID,name:"Lab",description:"Learning stuff in this area"}),f.back()};return(u,e)=>(g(),P(S,{ref_key:"form",ref:i},{default:V(()=>[e[3]||(e[3]=b("h2",null,"Area Name:",-1)),d(w,{required:"",label:"Name",modelValue:k(s),"onUpdate:modelValue":e[0]||(e[0]=a=>y(s)?s.value=a:null),autofocus:"",onKeyup:v(r,["enter"])},null,8,["modelValue"]),e[4]||(e[4]=b("h2",null,"Area Description:",-1)),d(w,{label:"Description",modelValue:k(t),"onUpdate:modelValue":e[1]||(e[1]=a=>y(t)?t.value=a:null),onKeyup:v(r,["enter"])},null,8,["modelValue"]),d(I,{variant:"tonal",onClick:r},{default:V(()=>e[2]||(e[2]=[q("Create Area")])),_:1})]),_:1},512))}});export{G as default};
