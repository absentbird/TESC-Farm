import{d as y,r as l,j as g,b as q,y as h,T as x,l as b,t as f,E as c,c as m,H as k,q as s,s as v,x as B,v as C}from"./index-CPnaz9z_.js";import{a as R}from"./apicall-Bi9Wkbxh.js";import{a as w,b as U}from"./VTextField-CE9Adw70.js";import{V as N}from"./VContainer-DlUOaJ08.js";const P={class:"error"},_=y({__name:"login",setup(T){const V=x(),p=q(),r=l(""),a=l(""),u=l(""),o=l(!1),i={required:n=>!!n||"Required.",min:n=>n.length>=8||"Minimum 8 characters"},d=async()=>{if(!r.value||!a.value){u.value="Both Username and Password are required";return}if(a.value.length<8){u.value="Password must be 8 or more characters";return}R("/login",{username:r.value,password:a.value}),V.push({path:"/mobile"})};return g(()=>{p.query.w&&(r.value="worker",a.value=p.query.w,d())}),(n,e)=>(b(),h(N,null,{default:f(()=>[e[4]||(e[4]=c("h1",null,"Worker Login",-1)),c("p",P,k(s(u)),1),m(w,{id:"username",modelValue:s(r),"onUpdate:modelValue":e[0]||(e[0]=t=>v(r)?r.value=t:null),hint:"Enter the name of your account",label:"Username",name:"username",rules:[i.required]},null,8,["modelValue","rules"]),m(w,{modelValue:s(a),"onUpdate:modelValue":e[1]||(e[1]=t=>v(a)?a.value=t:null),"append-icon":s(o)?"mdi-eye":"mdi-eye-off",rules:[i.required,i.min],type:s(o)?"text":"password",hint:"At least 8 characters",label:"Password",name:"password",counter:"","onClick:append":e[2]||(e[2]=t=>o.value=!s(o)),onKeyup:B(d,["enter"])},null,8,["modelValue","append-icon","rules","type"]),m(U,{onClick:d,variant:"tonal"},{default:f(()=>e[3]||(e[3]=[C("Sign In")])),_:1})]),_:1}))}});export{_ as default};
