import{V as I,a as _,_ as A}from"./VSwitch-CefifBqE.js";import{n as V,l as b,b as B,f as N,d as F,p as $}from"./VMenu-CEOIS9lm.js";import{a as D,b as U}from"./VTextField-BqCknyMw.js";import{d as T,r as g,i as k,w as S,j as R,k as h,l as c,F as q,c as o,t as n,q as f,s as x,y as p,z as v,T as j,A as z,E,v as C,J as L}from"./index-2V5DHb8u.js";import{V as O}from"./VContainer-hUYed4Bj.js";const J=T({__name:"FilterSearch",props:{items:{type:Array,required:!0},focus:{type:Array,required:!1}},emits:["filter"],setup(i,{emit:w}){const a=g(""),d=g(!1),r=g([]),m=i,y=w,u=k(()=>{const t=new Set;for(const e of m.items)if(e.tags)for(const l of e.tags)t.add(l.name);return Array.from(t)}),s=k(()=>{let t=m.items;return m.focus&&!d.value?(t=t.filter(e=>m.focus.includes(e.ID)),t.sort((e,l)=>m.focus.indexOf(e.ID)-m.focus.indexOf(l.ID))):t.sort((e,l)=>e.name.localeCompare(l.name)),r.value.length>0&&(t=t.filter(e=>e.tags.some(l=>r.value.includes(l.name)))),a.value&&(t=t.filter(e=>(e.name+e.description).toUpperCase().includes(a.value.toUpperCase()))),t});return S(s,(t,e)=>{e!=t&&y("filter",s.value)}),R(()=>{y("filter",s.value)}),(t,e)=>(c(),h(q,null,[o(V,{cols:"12",sm:"6",md:"8"},{default:n(()=>[o(D,{id:"search",modelValue:f(a),"onUpdate:modelValue":e[0]||(e[0]=l=>x(a)?a.value=l:null),clearable:"",label:"Search",hint:"Search for items by name or description"},null,8,["modelValue"])]),_:1}),o(V,{cols:"6",sm:"3",md:"2"},{default:n(()=>[o(I,{clearable:"",chips:"",multiple:"",label:"Tags",modelValue:f(r),"onUpdate:modelValue":e[1]||(e[1]=l=>x(r)?r.value=l:null),items:f(u)},null,8,["modelValue","items"])]),_:1}),o(V,{cols:"6",sm:"3",md:"2",class:"d-flex align-self-start"},{default:n(()=>[i.focus?(c(),p(_,{key:0,inset:"",label:"Show All",color:"secondary",modelValue:f(d),"onUpdate:modelValue":e[2]||(e[2]=l=>x(d)?d.value=l:null)},null,8,["modelValue"])):v("",!0)]),_:1})],64))}}),M=["href"],X=T({__name:"CardSelector",props:{items:{type:Array,required:!0},focus:{type:Array,required:!1},search:{type:Boolean,required:!1},newItem:{type:String,required:!1},timeTracking:{type:Boolean,required:!0},selected:{type:Number,required:!1}},emits:["select"],setup(i,{emit:w}){const a=i;j();const d=g(a.items),r=g(a.items),m=k(()=>{if(a.selected)return a.selected;if((r==null?void 0:r.value.length)==0)return-1;const u=r.value.find(s=>s.selected);return u?u.ID:0});S(a,()=>{d.value=a.items,a.search||(r.value=a.items)});const y=u=>{r.value=u};return(u,s)=>{const t=J,e=A;return c(),p(O,{fluid:"",class:"taskpanel d-flex flex-column align-center"},{default:n(()=>[i.search?(c(),p(b,{key:0,id:"filters",class:"align-center d-flex w-100 flex-grow-0"},{default:n(()=>[o(t,{items:f(d),focus:i.focus,onFilter:y},null,8,["items","focus"])]),_:1})):v("",!0),o(b,{id:"main-content",align:"center",justify:"center",class:"d-flex flex-row w-100"},{default:n(()=>[(c(!0),h(q,null,z(f(r),l=>(c(),p(e,{task:l,onSelect:G=>u.$emit("select",l.ID)},null,8,["task","onSelect"]))),256)),i.newItem?(c(),p(V,{key:0,class:"d-flex flex-column",cols:"12",sm:"4",md:"3",lg:"2"},{default:n(()=>[E("a",{class:"card-button",href:i.newItem},[o(B,{class:"task-card d-flex flex-column text-center",variant:"tonal"},{default:n(()=>[o(N,null,{default:n(()=>[o(F,null,{default:n(()=>s[1]||(s[1]=[C("New")])),_:1})]),_:1}),o($,null,{default:n(()=>s[2]||(s[2]=[C(" Create a new item ")])),_:1})]),_:1})],8,M)]),_:1})):v("",!0),o(V,{cols:"12"},{default:n(()=>[i.timeTracking?(c(),p(U,{key:0,class:L(["bigbutton",{selected:f(m)==0}]),variant:"tonal",onClick:s[0]||(s[0]=l=>u.$emit("select",0))},{default:n(()=>s[3]||(s[3]=[C(" Not Tracking Time ")])),_:1},8,["class"])):v("",!0)]),_:1})]),_:1})]),_:1})}}});export{X as _};
