import{g as x,p as A,r as f,a as N,c as i,D as P,d as B,S as g,k as q,l as K,t as p,v as V,q as c,P as k,x as y,s as w}from"./index-DsmxeAVp.js";import{q as S,f as G,r as I,b as D,a as F,d as v}from"./VTextField-Bzyb5WDc.js";const L=A({...P(),...I()},"VForm"),T=x()({name:"VForm",props:L(),emits:{"update:modelValue":o=>!0,submit:o=>!0},setup(o,m){let{slots:u,emit:s}=m;const t=S(o),n=f();function d(a){a.preventDefault(),t.reset()}function e(a){const l=a,r=t.validate();l.then=r.then.bind(r),l.catch=r.catch.bind(r),l.finally=r.finally.bind(r),s("submit",l),l.defaultPrevented||r.then(C=>{var b;let{valid:R}=C;R&&((b=n.value)==null||b.submit())}),l.preventDefault()}return N(()=>{var a;return i("form",{ref:n,class:["v-form",o.class],style:o.style,novalidate:!0,onReset:d,onSubmit:e},[(a=u.default)==null?void 0:a.call(u,t)])}),G(t,n)}}),U={id:"main-content",class:"pl-8 pr-8 pb-8"},W=B({__name:"builder",setup(o){const m=g(),u=f(),s=f(""),t=f(""),n=async()=>{let d={name:s.value,description:t.value},e=await v("/area/new",d);await v("/task/new",{area_id:e.ID,name:"General",description:"Work applicable to all crops in area"}),await v("/task/new",{area_id:e.ID,name:"Lab",description:"Learning stuff in this area"}),m.back()};return(d,e)=>(K(),q("div",U,[i(D,{variant:"tonal",onClick:e[0]||(e[0]=a=>c(m).push("/area")),class:"mb-8"},{default:p(()=>e[3]||(e[3]=[V("Go to Areas")])),_:1}),i(T,{ref_key:"form",ref:u},{default:p(()=>[e[5]||(e[5]=k("h2",null,"Area Name:",-1)),i(F,{required:"",label:"Name",modelValue:c(s),"onUpdate:modelValue":e[1]||(e[1]=a=>w(s)?s.value=a:null),autofocus:"",onKeyup:y(n,["enter"])},null,8,["modelValue"]),e[6]||(e[6]=k("h2",null,"Area Description:",-1)),i(F,{label:"Description",modelValue:c(t),"onUpdate:modelValue":e[2]||(e[2]=a=>w(t)?t.value=a:null),onKeyup:y(n,["enter"])},null,8,["modelValue"]),i(D,{variant:"tonal",onClick:n},{default:p(()=>e[4]||(e[4]=[V("Create Area")])),_:1})]),_:1},512)]))}});export{W as default};
