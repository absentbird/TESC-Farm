import{V as h,a as q,_ as A}from"./VSwitch-Cia7arMN.js";import{n as V,l as k,b as B,f as D,d as F,p as N}from"./VMenu-D-kSU3oW.js";import{a as $,b as U}from"./VTextField-CE9Adw70.js";import{d as I,r as g,i as w,w as S,j as L,k as T,l as d,c as n,t as s,q as f,s as v,y as p,z as y,F as _,T as R,A as j,E as z,v as C,J as E}from"./index-CPnaz9z_.js";import{V as O}from"./VContainer-DlUOaJ08.js";const J=I({__name:"FilterSearch",props:{items:{type:Array,required:!0},focus:{type:Array,required:!1}},emits:["filter"],setup(o,{emit:b}){const r=g(""),m=g(!1),i=g([]),c=o,x=b,u=w(()=>{const t=new Set;for(const e of c.items)if(e.tags)for(const l of e.tags)t.add(l.name);return Array.from(t)}),a=w(()=>{let t=c.items;return c.focus&&!m.value?(t=t.filter(e=>c.focus.includes(e.ID)),t.sort((e,l)=>c.focus.indexOf(e.ID)-c.focus.indexOf(l.ID))):t.sort((e,l)=>e.name.localeCompare(l.name)),i.value.length>0&&(t=t.filter(e=>e.tags.some(l=>i.value.includes(l.name)))),r.value&&(t=t.filter(e=>(e.name+e.description).toUpperCase().includes(r.value.toUpperCase()))),t});return S(a,(t,e)=>{e!=t&&x("filter",a.value)}),L(()=>{x("filter",a.value)}),(t,e)=>(d(),T(_,null,[n(V,{cols:"12",sm:"6",md:"8"},{default:s(()=>[n($,{id:"search",modelValue:f(r),"onUpdate:modelValue":e[0]||(e[0]=l=>v(r)?r.value=l:null),clearable:"",label:"Search",hint:"Search for items by name or description"},null,8,["modelValue"])]),_:1}),n(V,{cols:"6",sm:"3",md:"2"},{default:s(()=>[n(h,{clearable:"",chips:"",multiple:"",label:"Tags",modelValue:f(i),"onUpdate:modelValue":e[1]||(e[1]=l=>v(i)?i.value=l:null),items:f(u)},null,8,["modelValue","items"])]),_:1}),n(V,{cols:"6",sm:"3",md:"2",class:"d-flex align-self-start"},{default:s(()=>[o.focus?(d(),p(q,{key:0,inset:"",label:"Show All",color:"secondary",modelValue:f(m),"onUpdate:modelValue":e[2]||(e[2]=l=>v(m)?m.value=l:null)},null,8,["modelValue"])):y("",!0)]),_:1})],64))}}),M=["href"],X=I({__name:"CardSelector",props:{items:{type:Array,required:!0},focus:{type:Array,required:!1},newItem:{type:String,required:!1},search:{type:Boolean,required:!1},tracking:{type:Boolean,required:!1}},emits:["select"],setup(o,{emit:b}){const r=o;R();const m=g(r.items),i=g(r.items),c=w(()=>{const u=m.value.find(a=>a.selected);return u?u.ID:0});S(r,()=>{m.value=r.items,r.search||(i.value=r.items)});const x=u=>{i.value=u};return(u,a)=>{const t=J,e=A;return d(),p(O,{fluid:"",class:"d-flex flex-column align-center"},{default:s(()=>[o.search?(d(),p(k,{key:0,id:"filters",class:"align-center d-flex w-100 flex-grow-0"},{default:s(()=>[n(t,{items:f(m),focus:o.focus,onFilter:x},null,8,["items","focus"])]),_:1})):y("",!0),n(k,{id:"main-content",align:"center",justify:"center",class:"d-flex flex-row w-100"},{default:s(()=>[(d(!0),T(_,null,j(f(i),l=>(d(),p(e,{item:l,onSelect:G=>u.$emit("select",l.ID)},null,8,["item","onSelect"]))),256)),o.newItem?(d(),p(V,{key:0,class:"d-flex flex-column",cols:"12",sm:"4",md:"3",lg:"2"},{default:s(()=>[z("a",{class:"card-button",href:o.newItem},[n(B,{class:"item-card d-flex flex-column text-center",variant:"tonal"},{default:s(()=>[n(D,null,{default:s(()=>[n(F,null,{default:s(()=>a[1]||(a[1]=[C("New")])),_:1})]),_:1}),n(N,null,{default:s(()=>a[2]||(a[2]=[C(" Create a new item ")])),_:1})]),_:1})],8,M)]),_:1})):y("",!0),o.tracking?(d(),p(V,{key:1,cols:"12"},{default:s(()=>[n(U,{class:E(["bigbutton",{selected:f(c)==0}]),variant:"tonal",onClick:a[0]||(a[0]=l=>u.$emit("select",0))},{default:s(()=>a[3]||(a[3]=[C(" Not Tracking Time ")])),_:1},8,["class"])]),_:1})):y("",!0)]),_:1})]),_:1})}}});export{X as _};
